<!DOCTYPE html>
<html lang="en">
{% load my_tag %}
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <link rel="stylesheet" type="text/css" href="/static/css/index.css">
    <link rel="stylesheet" href="/static/css/reset.css">
    <script src="/static/vue/vue.js"></script>
</head>

<body>
    <div id="app">
        <link rel="stylesheet" :href="'/static/css/theme/' + theme + '.css'">
        <link rel="stylesheet" :href="'/static/css/mouse/' + mouse + '.css'">
        <nav>
            <!-- 导航条左 -->
            <div class="left">
                <a class="link" href="#">首页</a>
                <a class="link" href="#">新闻</a>
                <a class="link" href="#">心情</a>
                <a class="link" href="#">关于</a>
            </div>

            <!-- 导航条右 -->
            <div class="right">
                <img class="theme_img" v-show="theme === 'light'" src="/static/image/theme/light.svg" @click="setTheme('dark')" alt="">
                <img class="theme_img" v-show="theme === 'dark'" src="/static/image/theme/dark.svg" @click="setTheme('light')" alt="">
                <a class="link" href="#">登录</a>
                <a class="link" href="#">注册</a>
            </div>
        </nav>

        {% banner 'index' %}

        <main>
            网页主体
        </main>
        <footer>
            <div class="left">
                <p class="thank">Thank For Your Visit</p>
                <p class="site_info">
                    <span><img src="/static/image/footer/aliyun.png" alt="">阿里云</span>
                </p>
                <p class="version">
                    <span>verion</span>
                    <span>1.0.0</span>
                </p>
                <p>
                    建站日期: 2022-1-26
                </p>
                <p class="beian">
                    <a href="http://baidu.com/"><img src="/static/image/footer/badges.png" alt="">备案号: xxx</a>
                </p>
            </div>

            <div class="right">
                <div class="contact">
                    <div>
                        <img class="qq_svg" src="/static/image/footer/qq_icon.svg" alt="">
                        <img class="qq" src="/static/image/footer/qq.png" alt="">
                        <img class="wechat_svg" src="/static/image/footer/wexin_icon.svg" alt="">
                        <img class="wechat" src="/static/image/footer/wechat.png" alt="">
                        <a class="link" href="http://github.com/3072844942/blog" target="_blank"><img class="github_svg" src="/static/image/footer/github_icon.svg" alt=""></a>
                        <a class="link" href="http://www.cnblogs.com/snak/" target="_blank"><img class="cnblog" src="/static/image/footer/cnblog.jpg" alt="博客园"></a>
                    </div>
                </div>
                <p>
                    联系邮箱: 3072844942@qq.com
                </p>
            </div>
        </footer>
    </div>

    <script>
        new Vue ({
            el: '#app',
            delimiters: ["[[", "]]"],
            data: {
                msg: 'snak',
                theme: 'light', // 默认网页主题
                mouse: 'white', // 默认鼠标主题
            },
            created() {
                this.init_theme()
            },
            methods: {
                init_theme() {
                    // 读取存储的主题信息
                    let theme = localStorage.getItem('theme')
                    if (theme) this.theme = theme
                    
                    // 随机创建鼠标主题
                    let mouse = ["blue", "purple", "white", "green", "red", "yellow"]
                    let index = Math.floor(Math.random() * 6);
                    this.mouse = mouse[index]
                },

                // 设置主题
                setTheme(themeName) {
                    this.theme = themeName
                    // 存储主题
                    localStorage.setItem('theme', themeName)
                }
            }
        })  

        // 图片轮播图
        let menu_img = document.querySelectorAll('.dynamic_shuffl')
        console.log(menu_img)

        let menu_length = menu_img.length
        let index = 0
        setInterval(() => {
            index ++
            if (index === menu_length) index = 0
            
            for (let i of menu_img)
                i.style.opacity = 0
            menu_img[index].style.opacity = 1
        }, 6000)
    </script>
</body>
</html>
